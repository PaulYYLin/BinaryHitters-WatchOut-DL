# Fall Detection System Configuration
# Copy this file to .env and update with your values

# ==================== Camera Settings ====================
# Camera device ID (0 for default webcam, 1 for second camera, etc.)
CAMERA_ID=0

# Camera resolution (WIDTHxHEIGHT)
# Lower resolution reduces CPU/memory usage
# Common values: 640x480, 320x240, 1280x720
CAMERA_RESOLUTION=640x480

# Camera capture FPS (frames per second)
CAPTURE_FPS=30


# ==================== Ring Buffer Settings ====================
# How many seconds of video to keep in buffer
BUFFER_DURATION=30

# FPS for buffered video (can be lower than capture FPS to save memory)
# Recommended: 10-15 fps for edge devices
BUFFER_FPS=15

# Save every Nth frame to buffer (frame skip)
# FRAME_SKIP=2 means save every 2nd frame (effective FPS = CAPTURE_FPS/2)
FRAME_SKIP=2

# JPEG compression quality (0-100)
# 70 is good balance between quality and file size
# Lower = smaller files but lower quality
JPEG_QUALITY=70


# ==================== Video Encoding Settings ====================
# Duration of video clip to send when fall detected (seconds)
CLIP_DURATION=15

# Video codec for MP4 encoding
# mp4v: Faster encoding on CPU (recommended for edge devices)
# H264: Better compression but slower
VIDEO_CODEC=mp4v

# Video bitrate (bits per second)
# 1000000 = 1 Mbps (good for 640x480)
# Lower bitrate = smaller files but lower quality
VIDEO_BITRATE=1000000


# ==================== API Settings ====================
# API endpoint for successful fall event uploads (video + metadata)
# Leave empty to disable
API_SUCCESS_ENDPOINT=https://your-api.com/api/fall-events

# API endpoint for failure notifications (text only, when video upload fails)
# Leave empty to disable
API_FAILURE_ENDPOINT=https://your-api.com/api/fall-failures

# Optional API key for authentication
# Leave empty if not needed
API_KEY=

# API request timeout (seconds)
API_TIMEOUT=30

# Number of retry attempts for API calls
API_RETRY_ATTEMPTS=3


# ==================== Event Management ====================
# Cooldown period between fall events (seconds)
# Prevents duplicate events for same fall
COOLDOWN_PERIOD=15


# ==================== Performance Settings ====================
# Maximum number of worker threads
# Lower value reduces CPU usage but may slow down processing
MAX_WORKERS=2

# Run without GUI display (true for containers/edge devices)
# Set to false for local development with visualization
HEADLESS_MODE=true


# ==================== File Paths ====================
# Directory for temporary video files
TEMP_DIR=/tmp/fall_events

# Directory for log files
LOG_DIR=./logs

# Path to MediaPipe pose model
MODEL_PATH=./src/utils/pose_landmarker_lite.task
